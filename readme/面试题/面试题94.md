## 面试题94

#### Q:vue实例化做了什么

答:实例化：创建一个 Vue 实例，通过 Vue 构造函数来完成。 数据响应式处理：Vue 会对实例的数据进行响应式处理，即将数据转换为 Getter 和 Setter，并建立依赖追踪和更新机制。 初始化生命周期钩子：执行 beforeCreate 钩子函数，此时 Vue 实例已经初始化，但数据观测和事件还未初始化。 注入/依赖注入：处理组件之间的依赖注入，Vue 会把父组件的属性注入到子组件中。 初始化事件系统：设置事件监听和事件派发等功能。 初始化渲染：执行编译模板生成 render 函数，将模板转换为虚拟 DOM 结构。 初始化插槽：处理组件的插槽内容。 编译渲染：执行 beforeMount 钩子函数，将虚拟 DOM 渲染成真实的 DOM，并替换掉页面上的占位符元素。 挂载：执行 mounted 钩子函数，此时 Vue 实例已经挂载到页面上，并可以操作 DOM 元素。 更新：当实例的响应式数据发生变化时，会触发更新过程，即重新计算虚拟 DOM，并将变化部分更新到真实 DOM 上。 销毁：当调用实例的 $destroy 方法或者组件被销毁时，会执行 beforeDestroy 和 destroyed 钩子函数，进行释放资源和清理工作。

#### Q:.vue渲染的流程

答:解析：Vue 编译器会解析 .vue 文件，提取模板、JavaScript 代码和样式等部分。 模板编译：Vue 将模板部分编译为 render 函数，这个函数用于生成虚拟 DOM。 实例化组件：根据编译生成的 render 函数，实例化组件，生成一个 Vue 实例。 数据响应式处理：在实例化后，Vue 会将组件中的数据进行响应式处理，建立 Getter 和 Setter，以便追踪数据的变化。 渲染虚拟 DOM：通过调用 render 函数，Vue 将生成的虚拟 DOM 转化为真实 DOM。 挂载：将渲染得到的真实 DOM 挂载到指定的目标元素上，即将组件显示在页面中。 响应式更新：当组件的数据发生变化时，Vue 会重新执行 render 函数，生成新的虚拟 DOM，然后对比新旧虚拟 DOM，找出变化的部分进行更新。 卸载：当组件被销毁时，会执行一系列的清理工作，包括解除事件绑定、清理定时器等。



#### Q:flex里面有多个盒子，怎么保持每行只有4个？

答:要在 Flex 布局中保持每行只有四个盒子，可以使用 flex-wrap 属性结合设置 flex-basis 或 flex-grow。 .container { display: flex; flex-wrap: wrap; /* 允许换行 */ /* 设置每行只有四个盒子 */ justify-content: space-between; } .box { flex-basis: calc(25% - 20px); /* 每个盒子占据四分之一减去间隔的宽度 */ margin-bottom: 20px; /* 盒子之间的间隔 */ }

Q:0-9整数数组，中间有一个重复的，怎么去重，要求不使用set，怎么最快找出来

答:利用数组的下标对应数据找到对应不上的则就是重复的

#### Q:封装一个函数，实现很长的数字转换为钱币形式（每三个数字隔一个逗号）

答:使用正则 number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");



#### Q:react中hooks函数可以替代高阶函数HOC吗？

答:Hooks 是 React 16.8 引入的新特性，它提供了一种更简洁、直观的方式来处理组件的状态和副作用。 在之前，HOC 是一种常用的模式，用于在组件之间共享逻辑，但使用 HOC 时会引入嵌套组件和属性传递的问题。而 Hooks 函数则通过在函数组件内部使用特定的 Hook 函数，可以直接获取和管理状态，以及执行副作用。 下面是几个使用 Hooks 函数可以替代 HOC 的常见场景： 状态管理：使用 useState Hook 可以在函数组件中声明和管理状态，无需使用类组件和 HOC 的方式。 副作用处理：使用 useEffect Hook 可以在函数组件中执行副作用操作，如订阅事件、网络请求等，取代了之前需要在类组件的生命周期方法中处理副作用的方式。 上下文传递：使用 useContext Hook 可以在函数组件中轻松地使用上下文数据，避免了通过 HOC 在组件树上传递属性的繁琐过程。 组合逻辑：使用自定义的 Hooks 函数，可以将一些通用的逻辑封装起来以便在不同组件之间共享。 尽管 Hooks 函数能够替代一部分 HOC 的使用场景，但并不意味着 Hooks 完全取代了 HOC。有些复杂的逻辑和跨组件的操作仍然可以通过 HOC 来实现。在项目中，根据具体的需求和情况选择使用 Hooks 函数或 HOC，可以更好地提高代码的可读性和维护性。

#### Q:高阶函数HOC的缺陷是什么？

答:嵌套地狱：使用 HOC 时会导致组件的嵌套层级增加。如果多个 HOC 用于同一个组件，会造成组件结构变得复杂、难以理解和维护。 属性传递冗余：通过 HOC 包装组件时，需要将原始组件的属性逐层传递给下一层的 HOC，这样会导致代码中出现大量的属性传递，使得代码看起来冗余且难以维护。 命名冲突：多个 HOC 可能会引入相同的属性，导致命名冲突的问题。这可能需要开发人员额外处理属性名称，以避免命名冲突。 包裹组件的耦合性增加：HOC 包装了原始组件，使得原始组件与特定的 HOC 紧密耦合。当需要更改或替换 HOC 时，可能需要修改被包装的多个组件，增加了代码的耦合性和维护成本。 难以理解和调试：由于 HOC 可以在组件渲染的不同阶段进行处理，这会增加理解和调试代码的难度。对于新加入项目的开发人员来说，理解 HOC 的逻辑可能需要额外的学习成本。

#### Q:前端怎么实现强缓存和协商缓存

答:前端可以通过设置响应头来实现强缓存和协商缓存的策略。 要实现强缓存和协商缓存，需要在服务器端设置相应的响应头。具体的方式根据所使用的后端技术来确定，例如在 Node.js 中可以使用 Express 框架的响应头设置方法。同时，在前端代码中也可以通过配置请求头来控制缓存策略，例如使用 axios 的相关配置参数来设置请求头。



Q:vue2和vue3的区别

答:响应式原理、生命周期、api、···

Q:uni-app的优势劣势

答:优势：一套管多端 劣势：兼容性

Q:你在做小程序的时候遇到的难题是什么？怎么解决？

答:...我说的视频组件遇到的难题



Q:let i = 0 for (let x = 0; x <= 5; x++) { i ++ } setTimeout(()=>{ console.log(i); }) 输出i是多少

答:6

Q:可选列是什么？估计他想说可选链

答:面试官说是定时器里面的，不清楚是啥

Q:小程序页面跳转？

答:wx.navigateTo wx.switchTab

Q:小程序发送请求在哪里发送的？

答:生命周期 onload



#### Q ：鼠标穿透事件

设置`pointer-events: none`样式，不响应点击事件，由下层相应



Q:怎么拿到最新的state值

答:类组件，第二个参数，模拟nextTick



#### Q:ul中10个li，1,2个显示红色，3,4个显示黄色，怎么做

答:没答上



#### Q:无感token问题

答:无感知刷新Token是指，在Token过期之前，系统自动使用Refresh Token获取新的Access Token，从而实现Token的无感知刷新，用户可以无缝继续使用应用。
